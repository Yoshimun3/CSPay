(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports=t(40)},27:function(e,a,t){},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(18),r=t.n(c),s=(t(27),t(16),t(28),t(11)),o=t(4),m=t(2),i=t(6),d=t(19),u=t(8);const b=Object(d.a)({apiKey:"AIzaSyBeY4TGl9jUU8ybf2SJOAH2EzBiWI8j6no",authDomain:"testing-9e3ea.firebaseapp.com",projectId:"testing-9e3ea",storageBucket:"testing-9e3ea.appspot.com",messagingSenderId:"617734361837",appId:"1:617734361837:web:e31f1daa7c6b92d602b2e4"}),p=Object(u.b)(b),E=Object(m.h)(b),g=Object(i.b)(b);t(33);var f=()=>{const[e,a]=Object(l.useState)([]),[t,c]=Object(l.useState)(null),[r,o]=Object(l.useState)(null),[d,u]=Object(l.useState)(null),[b,p]=Object(l.useState)([]);Object(l.useEffect)(()=>{const e=Object(m.i)(Object(m.c)(E,"internetPlans"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));a(t)},e=>console.error("Error fetching plans:",e));return()=>e()},[]),Object(l.useEffect)(()=>{const e=Object(i.b)(),a=Object(i.d)(e,"internetnijohn.png"),t=Object(i.d)(e,"internet.jpg");Object(i.a)(a).then(e=>{u(e)}),Object(i.a)(t).then(e=>{c(e)}).catch(e=>console.error("Error fetching logo:",e))},[]),Object(l.useEffect)(()=>{const e=Object(i.b)(),a=Object(i.d)(e,"plan-pics");Object(i.c)(a).then(e=>{const a=e.items.map(e=>Object(i.a)(e));Promise.all(a).then(e=>p(e))}).catch(e=>console.error("Error fetching plan pics:",e))},[]);return n.a.createElement("div",{className:"plans-page"},n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},n.a.createElement("div",{className:"container"},n.a.createElement("a",{className:"navbar-brand",href:"/"},d&&n.a.createElement("img",{src:d,alt:"Internet ni Juan Logo",className:"navbar-logo"}),"CSPay"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},n.a.createElement("ul",{className:"navbar-nav ms-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/login",className:"nav-link"},n.a.createElement("i",{className:"fas fa-user-large me-1"})," User Login")))))),n.a.createElement("header",{className:"bg-light text-center py-5",style:{backgroundImage:t?`url(${t})`:"none",backgroundSize:"cover",backgroundPosition:"center",color:"white"}},n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"display-4 fw-bold",style:{color:"white"}},"Explore Our Internet Plans"),n.a.createElement("p",{className:"lead"},"Reliable, Fast, and Affordable Internet for Everyone!"),n.a.createElement("a",{href:"#plans",className:"btn btn-primary btn-lg mt-3"},"View Plans"))),n.a.createElement("div",{id:"plans",className:"container my-5"},n.a.createElement("div",{className:"row"},0===e.length?n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"visually-hidden"},"Loading..."))):e.map((e,a)=>n.a.createElement("div",{className:"col-md-4 mb-4",key:e.id},n.a.createElement("div",{className:"card shadow-sm",onClick:()=>o(e)},n.a.createElement("img",{src:b[a%b.length]||"",className:"card-img-top",alt:"Plan"}),n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("h3",{className:"card-title"},e.Name),n.a.createElement("p",{className:"card-text"},"Speed: ",e.Speed," Mbps"),n.a.createElement("p",{className:"card-text"},"Price: \u20b1",e.Price),n.a.createElement("button",{className:"btn btn-outline-primary"},"Select Plan"))))))),r&&n.a.createElement("div",{className:"modal-overlay"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("button",{className:"close-btn btn btn-danger btn-sm",onClick:()=>{o(null)}},"\xd7"),n.a.createElement("h2",{className:"card-title text-center"},r.Name),n.a.createElement("p",{className:"card-text"},"Speed: ",r.Speed," Mbps"),n.a.createElement("p",{className:"card-text"},"Price: \u20b1",r.Price),n.a.createElement(s.b,{to:"/Signup",state:{selectedPlan:r},className:"btn btn-primary w-100"},"Apply Now!"))),n.a.createElement("footer",{className:"bg-dark text-light py-4"},n.a.createElement("div",{className:"container text-center"},n.a.createElement(s.b,{to:"/admin-login",className:"navbar-brand"},n.a.createElement("strong",null,"\xa9 ",(new Date).getFullYear()," CSPay. All rights reserved.")))))};var N=function(){const[e,a]=Object(l.useState)(""),[t,c]=Object(l.useState)(""),[r,s]=Object(l.useState)(null),i=Object(o.o)();return n.a.createElement("div",{className:"container d-flex flex-column align-items-center justify-content-center vh-100"},n.a.createElement("div",{className:"card shadow-lg p-4",style:{maxWidth:"400px",width:"100%"}},n.a.createElement("div",{className:"mb-3",style:{position:"absolute",top:"20px",left:"20px",cursor:"pointer"},onClick:()=>window.history.back()},n.a.createElement("i",{className:"fas fa-arrow-left fa-lg text-secondary"})),n.a.createElement("h2",{className:"text-center text-primary mb-4"},"  ",n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},n.a.createElement("i",{className:"fas fa-user-shield fa-2x mb-3"})),"Admin Login"),n.a.createElement("form",{onSubmit:async a=>{a.preventDefault(),s(null);try{const a=await Object(u.d)(p,e,t),{uid:n}=a.user,c=Object(m.e)(E,"admin",n);(await Object(m.f)(c)).exists()?i("/admin"):(s("Access denied: Not an admin account."),await p.signOut())}catch(l){s("Failed to log in: "+l.message)}}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"email",className:"form-label"},"Admin Email"),n.a.createElement("input",{type:"email",id:"email",className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Enter admin email",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"password",className:"form-label"},"Password"),n.a.createElement("input",{type:"password",id:"password",className:"form-control",value:t,onChange:e=>c(e.target.value),placeholder:"Enter password",required:!0})),r&&n.a.createElement("p",{className:"text-danger text-center"},r),n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Login"))))};t(34);var v=function(){const[e,a]=Object(l.useState)(!1),[t,c]=Object(l.useState)("users"),[r,s]=Object(l.useState)([]),[i,d]=Object(l.useState)([]),[b,g]=Object(l.useState)([]),[f,N]=Object(l.useState)([]),[v,h]=Object(l.useState)([]),[y,j]=Object(l.useState)({Name:"",Speed:"",Price:""}),[O,w]=Object(l.useState)({name:"",email:"",role:"employee"}),[S,x]=Object(l.useState)(""),C=Object(o.o)(),[P,R]=Object(l.useState)(""),k=null===v||void 0===v?void 0:v.filter(e=>e.name&&e.name.toLowerCase().includes(P.toLowerCase())),[I,D]=Object(l.useState)([]),[q,F]=Object(l.useState)(!0);Object(l.useEffect)(()=>{const e=Object(m.i)(Object(m.c)(E,"internetPlans"),e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));console.log("Plans data fetched:",a),s(a)},e=>console.error("Error fetching plans:",e)),a=Object(m.i)(Object(m.c)(E,"Receipts"),e=>{const a=e.docs.map(e=>({id:e.id,...e.data(),expanded:!1}));console.log("Receipts data fetched:",a),d(a)},e=>console.error("Error fetching receipts:",e)),t=Object(m.i)(Object(m.c)(E,"Installations"),e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));console.log("Installations data fetched:",a),N(a)},e=>console.error("Error fetching installations:",e)),l=Object(m.i)(Object(m.c)(E,"Subscribers"),e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));console.log("Subscribers data fetched:",a),h(a)},e=>console.error("Error fetching subscribers:",e)),n=Object(m.i)(Object(m.c)(E,"RepairRequests"),e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));console.log("Repair requests data fetched:",a),g(a)},e=>console.error("Error fetching repair requests:",e));return(async()=>{try{F(!0);const a=(await Object(m.g)(Object(m.c)(E,"inventory"))).docs.map(e=>({id:e.id,...e.data()}));console.log("Inventory data fetched:",a),D(a)}catch(e){console.error("Error fetching inventory:",e)}finally{F(!1)}})(),()=>{e(),a(),t(),l(),n()}},[]);const[A,L]=Object(l.useState)({name:"",quantity:0}),U=async(e,a)=>{try{const l=Object(m.e)(E,"inventory",e);await Object(m.m)(l,{quantity:a}),D(t=>t.map(t=>t.id===e?{...t,quantity:a}:t))}catch(t){console.error("Error updating inventory: ",t)}};return n.a.createElement("div",{className:"admin-dashboard container py-5"},n.a.createElement("div",{className:" navbar navbar-expand-lg d-flex justify-content-between align-items-center mb-4 "},n.a.createElement("h1",{className:"text-primary"},n.a.createElement("i",{className:"fas fa-user-shield fa-1x mb-3 me-3"}),"Admin Dashboard"),n.a.createElement("button",{onClick:async()=>{try{await Object(u.e)(p),alert("Successfully logged out!"),C("/")}catch(e){console.error("Failed to log out: ",e.message)}},className:"btn btn-danger"},n.a.createElement("i",{className:"fas fa-door-open me-2"}),"Logout")),n.a.createElement("ul",{className:"nav nav-pills mb-4 justify-content-center"},["subscribers","receipts","repairRequests","createPlan","removePlan","createAccount","installations","inventory"].map(e=>n.a.createElement("li",{className:"nav-item",key:e},n.a.createElement("button",{className:`nav-link ${t===e?"active":""}`,onClick:()=>c(e)},e.charAt(0).toUpperCase()+e.slice(1)," ","receipts"===e&&n.a.createElement("span",{className:"badge text-bg-secondary"},i.length),"repairRequests"===e&&n.a.createElement("span",{className:"badge text-bg-secondary"},b.length),"installations"===e&&n.a.createElement("span",{className:"badge text-bg-secondary"},f.length))))),"inventory"===t&&n.a.createElement("div",null,n.a.createElement("h2",{className:"text-info mb-4"},"Inventory Management"),q?n.a.createElement("div",{class:"d-flex justify-content-center"},n.a.createElement("div",{class:"spinner-border",role:"status"},n.a.createElement("span",{class:"visually-hidden"},"Loading..."))):n.a.createElement("table",{className:"table table-bordered shadow"},n.a.createElement("thead",{className:"table-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"Material"),n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,I.map(e=>n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.quantity),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-success btn-sm me-2",onClick:()=>U(e.id,e.quantity+1)},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:()=>U(e.id,e.quantity-1)},n.a.createElement("i",{className:"fas fa-minus"}))))))),n.a.createElement("h3",{className:"text-info mt-4"},"Add New Material"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=await Object(m.b)(Object(m.c)(E,"inventory"),A);D(a=>[...a,{id:e.id,...A}]),L({name:"",quantity:0}),alert("Material added successfully!")}catch(a){console.error("Error adding material: ",a)}}},n.a.createElement("div",{className:"row g-3"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Material Name",value:A.name,onChange:e=>L({...A,name:e.target.value}),required:!0})),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("input",{type:"number",className:"form-control",placeholder:"Quantity",value:A.quantity,onChange:e=>L({...A,quantity:parseInt(e.target.value,10)||0}),required:!0})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Add"))))),"subscribers"===t&&n.a.createElement("div",{className:"row"},n.a.createElement("h2",{className:"text-success"},"Subscribers"),n.a.createElement("div",{className:"search-container"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"\ud83d\udd0e\ufe0e Search",value:P||"",onChange:e=>R(e.target.value)})),console.log("Subscribers:",v),console.log("Search Term:",P),console.log("Filtered Subscribers:",k),k&&k.length>0?k.map(e=>n.a.createElement("div",{className:"col-md-4 mb-3",key:e.id},n.a.createElement("div",{className:"card shadow border-success"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title text-primary"},e.name),n.a.createElement("p",null,n.a.createElement("strong",null,"Email:")," ",e.email),n.a.createElement("p",null,n.a.createElement("strong",null,"Plan:")," ",e.plan),n.a.createElement("p",null,n.a.createElement("strong",null,"Contact Number:")," ",e.contactNumber))))):n.a.createElement("div",{className:"col-12"},n.a.createElement("p",{className:"text-muted"},P?"No subscribers match the search query.":"No subscribers available."))),"repairRequests"===t&&n.a.createElement("div",null,n.a.createElement("h2",{className:"text-primary mb-4"},"Repair Requests"),n.a.createElement("div",{className:"row"},b.map(e=>n.a.createElement("div",{className:"col-md-6 mb-3",key:e.id},n.a.createElement("div",{className:"card shadow border-info"},n.a.createElement("img",{src:e.imageUrl,className:"card-img-top repair-img",alt:"Repair Evidence","data-bs-toggle":"modal","data-bs-target":`#modal-${e.id}`,style:{maxHeight:"200px",objectFit:"cover",cursor:"pointer"}}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title text-info"},e.reportedBy),n.a.createElement("p",null,n.a.createElement("strong",null,"Type:")," ",e.repairType),n.a.createElement("p",null,n.a.createElement("strong",null,"Details:")," ",e.details),n.a.createElement("p",null,n.a.createElement("strong",null,"Reported On: ")," ",new Date(1e3*e.timestamp.seconds).toDateString()),n.a.createElement("p",null,n.a.createElement("strong",null,"Reported by: "),e.email),"Resolved"!==e.status&&n.a.createElement("button",{className:"btn btn-success",onClick:()=>(async e=>{try{const t=b.find(a=>a.id===e);if(!t)return alert("Repair request not found.");const l=await Object(m.b)(Object(m.c)(E,"CompletedRepairs"),{...t,resolvedDate:m.a.fromDate(new Date),status:"Resolved"});await Object(m.l)(l,{id:l.id},{merge:!0}),console.log("Repair request added to CompletedRepairs collection with ID:",l.id),await Object(m.d)(Object(m.e)(E,"RepairRequests",e)),console.log("Repair request deleted from RepairRequests collection:",e),alert("Repair request resolved and moved to Completed Repairs.")}catch(a){console.error("Error resolving repair request:",a),alert("Failed to resolve repair request: "+a.message)}})(e.id)},"Mark as Resolved"))),n.a.createElement("div",{className:"modal fade",id:`modal-${e.id}`,tabIndex:"-1","aria-labelledby":`modalLabel-${e.id}`,"aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:`modalLabel-${e.id}`},"Repair Evidence"),n.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),n.a.createElement("div",{className:"modal-body text-center"},n.a.createElement("img",{src:e.imageUrl,alt:"Expanded Repair Evidence",className:"img-fluid"}))))))))),"receipts"===t&&n.a.createElement("div",null,n.a.createElement("h2",{className:"text-warning"},"Receipts"),n.a.createElement("div",{className:"row"},i.map(e=>n.a.createElement("div",{className:"col-md-6 mb-3",key:e.id},n.a.createElement("div",{className:"card shadow"},n.a.createElement("img",{src:e.receiptURL,className:"card-img-top receipt-img",alt:"Receipt","data-bs-toggle":"modal","data-bs-target":`#modal-${e.id}`,style:{cursor:"pointer"}}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title text-info"},e.subscriberName),n.a.createElement("p",null,"Uploaded on: ",new Date(1e3*e.timestamp.seconds).toDateString()),n.a.createElement("button",{className:"btn btn-success me-3",onClick:()=>(async e=>{try{const t=i.find(a=>a.id===e);if(!t)return alert("Receipt not found.");const l=r.find(e=>e.Name===t.planName);if(!l)return alert("Plan not found for the receipt.");const n=[...r].sort((e,a)=>a.Price-e.Price),c=n.findIndex(e=>e.Name===l.Name),s=c<n.length/3?"High":c<2*n.length/3?"Medium":"Low",o="High"===s?1+Math.floor(3*Math.random()):"Medium"===s?4+Math.floor(4*Math.random()):8+Math.floor(7*Math.random()),d=new Date;d.setDate(d.getDate()+o);const u=await Object(m.b)(Object(m.c)(E,"Installations"),{...t,confirmed:!0,installationDate:m.a.fromDate(d),installationStatus:"Scheduled",priority:s});await Object(m.l)(u,{id:u.id},{merge:!0}),console.log("Installation added to Installations collection with ID:",u.id),await Object(m.d)(Object(m.e)(E,"Receipts",e)),console.log("Receipt deleted from Receipts collection:",e);const b=Object(m.c)(E,"RejectedReceipts"),p=Object(m.j)(b,Object(m.n)("subscriberName","==",t.subscriberName)),g=await Object(m.g)(p);g.empty||g.forEach(async e=>{await Object(m.d)(e.ref),console.log("Deleted from RejectedReceipts:",e.id)}),alert(`Receipt confirmed! Installation scheduled for ${d.toDateString()} (Priority: ${s}).`)}catch(a){console.error("Error confirming receipt:",a),alert("Failed to confirm receipt: "+a.message)}})(e.id)},"Accept"),n.a.createElement("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{const t=i.find(a=>a.id===e);if(!t)return void alert("Receipt not found.");const l=prompt("Please provide a reason for rejecting this receipt:");if(!l)return void alert("Rejection reason is required.");const n={...t,rejectionDate:m.a.fromDate(new Date),rejectionReason:l};await Object(m.b)(Object(m.c)(E,"RejectedReceipts"),n),await Object(m.d)(Object(m.e)(E,"Receipts",e)),alert("Receipt rejected with the reason.")}catch(a){console.error("Error rejecting receipt:",a),alert("Failed to reject receipt: "+a.message)}})(e.id)},"Reject"))),n.a.createElement("div",{className:"modal fade",id:`modal-${e.id}`,tabIndex:"-1","aria-labelledby":`modalLabel-${e.id}`,"aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:`modalLabel-${e.id}`},"Receipt from ",e.subscriberName),n.a.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),n.a.createElement("div",{className:"modal-body text-center"},n.a.createElement("img",{src:e.receiptURL,alt:"Expanded Receipt",className:"img-fluid"}))))))))),"createPlan"===t&&n.a.createElement("div",null,e&&n.a.createElement("div",{className:"alert alert-success alert-dismissible fade show",role:"alert"},n.a.createElement("strong",null,"Success!")," Plan added successfully!"),n.a.createElement("h2",{className:"text-info mb-4"},"Create New Internet Plan"),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),!y.Name||!y.Speed||!y.Price)return alert("Please fill in all plan fields.");try{await Object(m.b)(Object(m.c)(E,"internetPlans"),y),j({Name:"",Speed:"",Price:""}),console.log("Plan added successfully!"),a(!0),setTimeout(()=>a(!1),3e3)}catch(t){alert("Failed to add plan: "+t.message)}},className:"form-container shadow"},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Plan Name"),n.a.createElement("input",{type:"text",className:"form-control",value:y.Name,onChange:e=>j({...y,Name:e.target.value}),placeholder:"Enter Plan Name",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Speed (Mbps)"),n.a.createElement("input",{type:"number",className:"form-control",value:y.Speed,onChange:e=>j({...y,Speed:e.target.value}),placeholder:"Enter Speed",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Price (\u20b1)"),n.a.createElement("input",{type:"number",className:"form-control",value:y.Price,onChange:e=>j({...y,Price:e.target.value}),placeholder:"Enter Price in \u20b1",required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add Plan"))),"removePlan"===t&&n.a.createElement("div",null,e&&n.a.createElement("div",{className:"alert alert-success alert-dismissible fade show",role:"alert"},n.a.createElement("strong",null,"Success!")," Plan removed successfully!"),n.a.createElement("h2",{className:"text-danger mb-4"},"Remove Internet Plan"),n.a.createElement("div",{className:"row"},r.map(e=>n.a.createElement("div",{className:"col-md-4 mb-3",key:e.id},n.a.createElement("div",{className:"card shadow border-danger"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title text-dark"},e.Name),n.a.createElement("p",null,n.a.createElement("strong",null,"Speed:")," ",e.Speed," Mbps"),n.a.createElement("p",null,n.a.createElement("strong",null,"Price:")," \u20b1",e.Price),n.a.createElement("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await Object(m.d)(Object(m.e)(E,"internetPlans",e)),a(!0),setTimeout(()=>a(!1),3e3)}catch(t){alert("Failed to remove plan: "+t.message)}})(e.id)},"Remove Plan"))))))),"createAccount"===t&&n.a.createElement("div",null,n.a.createElement("h2",{className:"text-info mb-4"},"Create Account"),n.a.createElement("div",{className:"form-container"},n.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=(await Object(u.a)(p,O.email,O.password)).user,t={name:O.name,email:O.email,role:O.role,uid:e.uid},l="admin"===O.role?"admin":"Employees";"admin"===O.role?await Object(m.l)(Object(m.e)(E,l,e.uid),t):await Object(m.b)(Object(m.c)(E,l),t),w({name:"",email:"",password:"",role:"employee"}),alert(`${O.role.charAt(0).toUpperCase()+O.role.slice(1)} account created successfully!`)}catch(a){alert("Failed to create account: "+a.message)}}},"employee"===O.role&&n.a.createElement("input",{type:"text",value:O.name,onChange:e=>w({...O,name:e.target.value}),placeholder:"Employee Name",required:!0}),n.a.createElement("input",{type:"email",value:O.email,onChange:e=>w({...O,email:e.target.value}),placeholder:"Email",required:!0}),n.a.createElement("input",{type:"password",value:O.password,onChange:e=>w({...O,password:e.target.value}),placeholder:"Password",required:!0}),n.a.createElement("select",{value:O.role,onChange:e=>w({...O,role:e.target.value})},n.a.createElement("option",{value:"employee"},"Employee"),n.a.createElement("option",{value:"admin"},"Admin")),n.a.createElement("button",{type:"submit"},"Create Account")))),"installations"===t&&n.a.createElement("div",null,e&&n.a.createElement("div",{className:"alert alert-success alert-dismissible fade show",role:"alert"},n.a.createElement("strong",null,"Success!")," Installation marked as complete!"),n.a.createElement("h2",{className:"text-primary mb-4"},"Installations"),0===f.length?n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"No installations to show."),console.log("Installations state is empty:",f)):f.map(e=>(console.log("Rendering installation:",e),n.a.createElement("div",{className:"card",key:e.id},n.a.createElement("h3",null,e.subscriberName),n.a.createElement("p",null,"Plan: ",e.planName),n.a.createElement("p",null,"Installation Date: ",e.installationDate.toDate().toString()),n.a.createElement("p",null,"Priority: ",e.priority),n.a.createElement("button",{className:"btn btn-success",onClick:()=>(async e=>{try{const l=f.find(a=>a.id===e);if(!l)return void alert("Installation not found in state.");const n={...l,completionDate:m.a.fromDate(new Date),installationStatus:"Completed"},c=await Object(m.b)(Object(m.c)(E,"CompletedInstallations"),n);console.log("Installation added to CompletedInstallations with ID:",c.id);const r=Object(m.e)(E,"Installations",e);await Object(m.d)(r),console.log(`Installation with ID ${e} deleted from Installations collection.`),a(!0),setTimeout(()=>a(!1),3e3)}catch(t){console.error("Error marking installation as complete:",t),alert("Failed to mark installation as complete: "+t.message)}})(e.id)},"Mark Complete"))))))};const h=Object(l.createContext)(),y=e=>{let{children:a}=e;const[t,c]=Object(l.useState)(null),[r,s]=Object(l.useState)(!0);Object(l.useEffect)(()=>{const e=Object(u.c)(p,e=>{e?(console.log("User is logged in:",e),c(e)):(console.log("No user is logged in"),c(null)),s(!1)});return()=>e()},[]);return n.a.createElement(h.Provider,{value:{user:t,login:e=>{c(e)},logout:async()=>{try{await Object(u.e)(p),c(null),console.log("User successfully logged out")}catch(e){console.error("Error logging out:",e)}}}},!r&&a," ")},j=()=>{const e=Object(l.useContext)(h);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};t(35);var O=function(){const[e,a]=Object(l.useState)(""),[t,c]=Object(l.useState)(""),[r,s]=Object(l.useState)(null),{user:m}=j(),i=Object(o.o)();return n.a.createElement("div",{className:"container d-flex justify-content-center align-items-center vh-100"},n.a.createElement("div",{className:"card shadow-lg p-4",style:{maxWidth:"400px",width:"100%"}},n.a.createElement("div",{className:"mb-3",style:{position:"absolute",top:"20px",left:"20px",cursor:"pointer"},onClick:()=>window.history.back()},n.a.createElement("i",{className:"fas fa-arrow-left fa-lg text-secondary"})),n.a.createElement("h1",{className:"text-center mb-4 text-primary"},n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},n.a.createElement("i",{className:"fas fa-user-check fa-1x mb-3"})),"Login"),n.a.createElement("form",{onSubmit:async a=>{a.preventDefault(),s(null);try{const a=await Object(u.d)(p,e,t);console.log("Login successful:",a.user),i("/Home")}catch(l){console.error("Error during login:",l),s("Failed to log in: "+l.message)}}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"email",className:"form-label"},"Email"),n.a.createElement("input",{type:"email",id:"email",className:"form-control",value:e,onChange:e=>a(e.target.value),placeholder:"Enter your email",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"password",className:"form-label"},"Password"),n.a.createElement("input",{type:"password",id:"password",className:"form-control",value:t,onChange:e=>c(e.target.value),placeholder:"Enter your password",required:!0})),r&&n.a.createElement("p",{className:"text-danger text-center"},r),n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Login"))))};var w=function(){const{user:e}=j(),[a,t]=Object(l.useState)([]),[c,r]=Object(l.useState)(!1),[s,o]=Object(l.useState)(""),[d,u]=Object(l.useState)(""),[b,p]=Object(l.useState)(null),[f,N]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{const a=Object(m.c)(E,"RepairRequests"),l=Object(m.j)(a,Object(m.n)("userId","==",e.uid)),n=Object(m.i)(l,e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));t(a)});return()=>n()},[e.uid]),n.a.createElement("div",{className:"container mt-4"},c?n.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center vh-100"},n.a.createElement("div",{className:"card shadow-lg p-4",style:{maxWidth:"400px",width:"100%"}},n.a.createElement("div",{className:"mb-3",style:{position:"absolute",top:"20px",left:"20px",cursor:"pointer"},onClick:()=>{r(!1)}},n.a.createElement("i",{className:"fas fa-arrow-left fa-lg text-secondary"})),n.a.createElement("h2",{className:"text-center text-primary mb-4"},n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},n.a.createElement("i",{className:"fas fa-wrench fa-1x mb-3"})),"Add Repair Request"),n.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),s&&d)try{N(!0);let a=null;if(b){const t=Object(i.d)(g,`repair-images/${e.uid}-${Date.now()}`),l=await Object(i.e)(t,b);a=await Object(i.a)(l.ref)}const l=Object(m.c)(E,"RepairRequests");await Object(m.b)(l,{userId:e.uid,email:e.email,repairType:s,details:d,imageUrl:a,timestamp:m.a.fromDate(new Date)}),alert("Repair request submitted successfully!"),o(""),u(""),p(null),r(!1)}catch(t){console.error("Error submitting repair request:",t),alert("Failed to submit repair request. Please try again.")}finally{N(!1)}else alert("Please fill in all fields.")}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"repairType",className:"form-label"},"Type of Repair"),n.a.createElement("select",{id:"repairType",className:"form-select",value:s,onChange:e=>o(e.target.value),required:!0},n.a.createElement("option",{value:""},"-- Select a Repair Type --"),n.a.createElement("option",{value:"Internet Connection"},"Internet Connection"),n.a.createElement("option",{value:"Router Issue"},"Router Issue"),n.a.createElement("option",{value:"Slow Speed"},"Slow Speed"),n.a.createElement("option",{value:"Billing Issue"},"Billing Issue"),n.a.createElement("option",{value:"Other"},"Other"))),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"details",className:"form-label"},"Details"),n.a.createElement("textarea",{id:"details",className:"form-control",placeholder:"Provide details about the issue...",value:d,onChange:e=>u(e.target.value),rows:4,required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"image",className:"form-label"},"Upload Image (Optional)"),n.a.createElement("input",{type:"file",id:"image",className:"form-control",accept:"image/*",onChange:e=>{e.target.files[0]&&p(e.target.files[0])}})),n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100",disabled:f},f?"Submitting...":"Submit Request")))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex justify-content-between align-items-center mb-4"},n.a.createElement("div",null,n.a.createElement("div",{className:"mb-3",style:{position:"absolute",top:"20px",left:"20px",cursor:"pointer"},onClick:()=>window.history.back()},n.a.createElement("i",{className:"fas fa-arrow-left fa-lg text-secondary"})),n.a.createElement("h1",{className:"text-primary d-inline"},n.a.createElement("i",{className:"fas fa-wrench fa-1x mb-3 me-3"}),"My Repair Requests")),n.a.createElement("button",{className:"btn btn-primary",onClick:()=>{r(!0)}},n.a.createElement("i",{className:"fas fa-plus fa-sm me-1"}),"Add Request")),n.a.createElement("div",{className:"row"},a.map(e=>n.a.createElement("div",{key:e.id,className:"col-md-4 mb-4"},n.a.createElement("div",{className:"card"},e.imageUrl&&n.a.createElement("img",{src:e.imageUrl,alt:"Repair",className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},e.repairType),n.a.createElement("p",{className:"card-text"},e.details),n.a.createElement("p",{className:"text-muted"},"Submitted on: ",new Date(e.timestamp.toDate()).toLocaleDateString()))))))))};t(36);var S=function(){var e;const{user:a}=j(),t=Object(o.m)(),c=Object(o.o)(),[r,s]=Object(l.useState)(""),[i,d]=Object(l.useState)(""),[u,b]=Object(l.useState)("");return null===(e=t.state)||void 0===e||e.uid,n.a.createElement("div",{className:"update-info-container"},n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},n.a.createElement("i",{className:"fas fa-user-pen fa-2x mb-3"})),n.a.createElement("h1",null,"Update Your Information"),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),r||i||u)try{const e=Object(m.c)(E,"Subscribers"),l=Object(m.j)(e,Object(m.n)("uid","==",a.uid)),n=await Object(m.g)(l);if(n.empty)alert("No subscriber found with the provided UID. Please try again.");else{const e=n.docs[0].ref,a={};r&&(a.name=r),i&&(a.contactNumber=i),u&&(a.address=u),await Object(m.m)(e,a),alert("Information updated successfully!"),c("/home")}}catch(t){console.error("Error updating info:",t.message),alert("Failed to update information. Please try again later.")}else alert("Please fill at least one field to update.")}},n.a.createElement("div",{className:"mb-3",style:{position:"absolute",top:"20px",left:"20px",cursor:"pointer"},onClick:()=>c(-1)},n.a.createElement("i",{className:"fas fa-arrow-left fa-lg text-secondary"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",id:"name",className:"form-control",placeholder:"Enter your name",value:r,onChange:e=>s(e.target.value)})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"contactNumber"},"Contact Number"),n.a.createElement("input",{type:"text",id:"contactNumber",className:"form-control",placeholder:"Enter your contact number",value:i,onChange:e=>d(e.target.value)})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"address"},"Address"),n.a.createElement("textarea",{id:"address",className:"form-control",placeholder:"Enter your address",value:u,onChange:e=>b(e.target.value)})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Apply Changes")),n.a.createElement("button",{className:"btn btn-secondary mt-3",onClick:()=>{s(""),d(""),b("")}},"Cancel"))};var x=function(){const e=Object(o.m)(),{selectedPlan:a}=e.state||{},[t,c]=Object(l.useState)(""),[r,s]=Object(l.useState)(""),[i,d]=Object(l.useState)(""),[b,g]=Object(l.useState)(""),[f,N]=Object(l.useState)(""),[v,h]=Object(l.useState)(!1),[y,O]=Object(l.useState)(null),w=Object(o.o)(),{login:S}=j();return n.a.createElement("div",{className:"container my-5"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-lg-12"},n.a.createElement("div",{className:"card shadow-lg",style:{width:"100%",margin:"0 auto"}},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"mb-3",style:{position:"absolute",top:"20px",left:"20px",cursor:"pointer"},onClick:()=>window.history.back()},n.a.createElement("i",{className:"fas fa-arrow-left fa-lg text-secondary"})),n.a.createElement("h2",{className:"card-title text-center mb-4"},n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh"}},n.a.createElement("i",{className:"fas fa-user-plus fa-1x mb-3"})),"Create Your Account"),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),a&&a.Name&&a.Price&&a.Speed)if(v)try{const e=(await Object(u.a)(p,r,i)).user,n=new Date;await Object(m.b)(Object(m.c)(E,"Subscribers"),{uid:e.uid,name:t,email:r,contactNumber:b,address:f,plan:a.Name,planPrice:a.Price,planSpeed:a.Speed,signupDate:n}),S(e),c(""),s(""),d(""),g(""),N(""),h(!1),alert("Account created successfully!"),w("/Payment",{state:{selectedPlan:a}})}catch(l){O("Failed to sign up: "+l.message)}else O("You must accept the terms and conditions to sign up.");else O("Please select a valid plan.")}},n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Full Name"),n.a.createElement("input",{type:"text",className:"form-control",value:t,onChange:e=>c(e.target.value),placeholder:"Enter your full name",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Email Address"),n.a.createElement("input",{type:"email",className:"form-control",value:r,onChange:e=>s(e.target.value),placeholder:"Enter your email",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",value:i,onChange:e=>d(e.target.value),placeholder:"Enter your password",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Contact Number"),n.a.createElement("input",{type:"text",className:"form-control",value:b,onChange:e=>g(e.target.value),placeholder:"Enter your contact number",required:!0})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{className:"form-label"},"Home Address"),n.a.createElement("input",{type:"text",className:"form-control",value:f,onChange:e=>N(e.target.value),placeholder:"Enter your home address",required:!0})),n.a.createElement("div",{className:"mb-3 form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"termsCheck",checked:v,onChange:e=>h(e.target.checked)}),n.a.createElement("label",{className:"form-label",htmlFor:"termsCheck"},"\xa0 I accept the "," ",n.a.createElement("a",{href:"/terms-and-conditions",target:"_blank",rel:"noopener noreferrer"},"Terms and Conditions"))),n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Sign Up")),y&&n.a.createElement("p",{className:"text-danger text-center mt-3"},y))),a&&n.a.createElement("div",{className:"card shadow-lg mt-4",style:{width:"100%",margin:"0 auto"}},n.a.createElement("div",{className:"card-body"},n.a.createElement("h3",{className:"card-title text-center"},"Selected Plan"),n.a.createElement("p",null,n.a.createElement("strong",null,"Name:")," ",a.Name),n.a.createElement("p",null,n.a.createElement("strong",null,"Speed:")," ",a.Speed," Mbps"),n.a.createElement("p",null,n.a.createElement("strong",null,"Price:")," \u20b1",a.Price))))))};t(37);function C(e){let{isOpen:a,onClose:t,content:l,isLoading:c,isImage:r}=e;if(!a)return null;return n.a.createElement("div",{className:"modal-overlay",onClick:e=>{e.target===e.currentTarget&&t()}},n.a.createElement("div",{className:"modal-content"},c?n.a.createElement("div",{className:"loading-spinner"},"Loading..."):r?n.a.createElement("div",{className:"image-modal"},n.a.createElement("img",{src:l,alt:"GCash QR Code",className:"modal-image"}),n.a.createElement("p",null,"Scan the QR code to make a payment."),n.a.createElement("button",{onClick:t,className:"close-button"},"Close")):n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,l),n.a.createElement("button",{onClick:t,className:"close-button"},"Close"))))}var P=function(){const e=Object(o.m)(),{selectedPlan:a}=e.state||{},{user:t}=j(),[c,r]=Object(l.useState)(null),[s,d]=Object(l.useState)(null),[u,b]=Object(l.useState)(""),[p,f]=Object(l.useState)(!1),[N,v]=Object(l.useState)(!1),[h,y]=Object(l.useState)(!1),[O,w]=Object(l.useState)(null),[S,x]=Object(l.useState)(null),P=Object(o.o)();return Object(l.useEffect)(()=>{(async()=>{try{const a=Object(m.e)(E,"Subscribers",t.uid),l=await Object(m.f)(a);if(l.exists()){const e=l.data();w(e.name)}else w(t.displayName||t.email)}catch(e){console.error("Error fetching subscriber name:",e.message),w(t.displayName||t.email)}})(),(async()=>{try{const a=Object(i.d)(g,"GCASH.jpg"),t=await Object(i.a)(a);x(t)}catch(e){console.error("Error fetching GCash image URL:",e.message)}})()},[t]),n.a.createElement("div",{className:"payment-page"},n.a.createElement(C,{isOpen:p,onClose:()=>{f(!1),y(!1)},content:u,isLoading:N,isImage:h}),n.a.createElement("div",{className:"payment-card"},n.a.createElement("h2",null,n.a.createElement("div",{className:"icon-container"},n.a.createElement("i",{className:"fas fa-money-check-dollar"})),"Make Your Payment"),S&&n.a.createElement("div",{className:"gcash-image-container"},n.a.createElement("h3",null,"Pay via GCash"),n.a.createElement("img",{src:S,alt:"GCash QR Code",className:"gcash-image",onClick:()=>{b(S),y(!0),f(!0)}})),n.a.createElement("div",{className:"plan-details"},n.a.createElement("h3",null,"Selected Plan"),n.a.createElement("p",null,n.a.createElement("strong",null,"Name:")," ",(null===a||void 0===a?void 0:a.Name)||"No plan selected"),n.a.createElement("p",null,n.a.createElement("strong",null,"Price:")," \u20b1",(null===a||void 0===a?void 0:a.Price)||"N/A")),n.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),!c)return b("Please select a receipt image."),void f(!0);if(!a||!a.Name||!a.Price)return b("Missing plan data. Please select a valid plan."),void f(!0);v(!0),f(!0);try{const e=Object(i.d)(g,`receipts/${c.name}`);await Object(i.e)(e,c);const n=await Object(i.a)(e);await Object(m.b)(Object(m.c)(E,"Receipts"),{subscriberName:O||t.email,planName:a.Name,planPrice:a.Price,receiptURL:n,timestamp:Object(m.k)()}),b("Receipt uploaded successfully! Redirecting..."),r(null),d(null),setTimeout(()=>P("/home"),2e3)}catch(l){b("Failed to upload receipt: "+l.message)}finally{v(!1)}},className:"payment-form"},c&&n.a.createElement("div",{className:"preview-container"},n.a.createElement("p",{className:"receipt-details"},"Selected File: ",c.name),n.a.createElement("img",{src:s,alt:"Receipt Preview",className:"receipt-preview"})),n.a.createElement("label",{htmlFor:"receipt-upload",className:"file-input-label"},"Upload Receipt"),n.a.createElement("input",{id:"receipt-upload",type:"file",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){if(!a.type.startsWith("image/"))return b("Please upload a valid image file."),void f(!0);if(a.size>2097152)return b("File size must be less than 2MB."),void f(!0);r(a);const e=new FileReader;e.onload=(()=>d(e.result)),e.readAsDataURL(a)}},hidden:!0}),n.a.createElement("button",{type:"submit",className:"upload-button",disabled:N},N?"Uploading...":"Submit"))))};t(38);var R=function(){const{user:e}=j(),[a,t]=Object(l.useState)(null),[c,r]=Object(l.useState)(!0),[s,i]=Object(l.useState)(!1),[d,b]=Object(l.useState)(""),g=Object(o.o)();return Object(l.useEffect)(()=>{let a;return(async()=>{if(null===e||void 0===e?void 0:e.uid){console.log("Fetching subscriber data for UID:",e.uid);try{const n=Object(m.c)(E,"Subscribers"),c=Object(m.j)(n,Object(m.n)("uid","==",e.uid));a=Object(m.i)(c,async e=>{if(e.empty)console.warn("No subscriber data found for this user.");else{const l=e.docs[0].data();console.log("Subscriber data fetched:",l);const n=l.email,c=Object(m.c)(E,"CompletedInstallations"),r=Object(m.j)(c,Object(m.n)("subscriberName","==",n)),s=Object(m.c)(E,"RejectedReceipts"),o=Object(m.j)(s,Object(m.n)("subscriberName","==",n));let i="Pending",d="";const[u,p]=await Promise.all([Object(m.g)(r),Object(m.g)(o)]);var a;p.empty?u.empty||(i="Connected",console.log("Internet status set to Connected")):(i="Rejected",d=(null===(a=p.docs[0].data())||void 0===a?void 0:a.rejectionReason)||"No reason provided",console.log("Internet status set to Rejected, Reason:",d)),t({...l,installationStatus:i}),b(d)}r(!1)})}catch(l){console.error("Error fetching subscriber data:",l),r(!1)}}})(),()=>{a&&a()}},[e]),c?n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"visually-hidden"},"Loading..."))):n.a.createElement("div",{className:"home-container"},n.a.createElement("div",{className:"welcome-card"},n.a.createElement("h1",null,"Welcome to Your Home Page"),a?n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Hello, ",n.a.createElement("span",null,a.name||"Subscriber","!")),n.a.createElement("p",null,"Thank you for being a valued subscriber. Here's your account summary:")):n.a.createElement("p",null,"No subscriber data found. Please contact support.")),a&&n.a.createElement("div",{className:"account-details"},n.a.createElement("div",{className:"card-header",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"10vh",position:"relative"}},n.a.createElement("i",{className:"fas fa-user fa-2x"}),n.a.createElement("div",{className:"settings-dropdown",style:{position:"absolute",top:0,right:0,margin:"10px"}},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",onClick:()=>{i(e=>!e)}},n.a.createElement("i",{className:"fas fa-cog"})),s&&n.a.createElement("div",{className:"dropdown-menu show"},n.a.createElement("button",{className:"dropdown-item",onClick:()=>{g("/repair")}},"Repair"),n.a.createElement("button",{className:"dropdown-item",onClick:()=>g("/updateinfo",{state:{uid:e.uid}})},"Update Info"),n.a.createElement("button",{className:"dropdown-item",onClick:()=>g("/updateplan")},"Update Plan")))),n.a.createElement("h3",null,"Internet Status: ",a.installationStatus),"Rejected"===a.installationStatus&&n.a.createElement("p",null,n.a.createElement("strong",null,"Reason for Rejection:")," ",d),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("strong",null,"Subscription Plan:")," ",a.plan||"N/A"),n.a.createElement("li",null,n.a.createElement("strong",null,"Price:")," ",a.planPrice||"N/A"),n.a.createElement("li",null,n.a.createElement("strong",null,"Speed:")," ",a.planSpeed||"N/A"),n.a.createElement("li",null,n.a.createElement("strong",null,"Contact Number:")," ",a.contactNumber||"N/A"),n.a.createElement("li",null,n.a.createElement("strong",null,"Address:")," ",a.address||"N/A"),n.a.createElement("li",null,n.a.createElement("strong",null,"Signup Date:")," ",a.signupDate?new Date(1e3*a.signupDate.seconds).toLocaleDateString():"N/A")),"Rejected"===a.installationStatus&&n.a.createElement("button",{className:"btn btn-warning",onClick:()=>{if(a)try{if(!a.plan||!a.planPrice)return void alert("Plan data is missing. Please contact support.");g("/payment",{state:{selectedPlan:{Name:a.plan,Speed:a.planSpeed,Price:a.planPrice}}})}catch(e){console.error("Error during payment retry:",e)}}},"Retry Payment")),n.a.createElement("button",{className:"logout-button",onClick:async()=>{try{await Object(u.e)(p),alert("Successfully logged out!"),g("/")}catch(e){console.error("Failed to log out:",e.message)}}},n.a.createElement("i",{className:"fas fa-door-open me-2"}),"Logout"))};t(39);var k=()=>n.a.createElement(y,null,n.a.createElement(s.a,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/Login",element:n.a.createElement(O,null)}),n.a.createElement(o.a,{path:"/updateinfo",element:n.a.createElement(S,null)}),n.a.createElement(o.a,{path:"/repair",element:n.a.createElement(w,null)}),n.a.createElement(o.a,{path:"/Payment",element:n.a.createElement(P,null)}),n.a.createElement(o.a,{path:"/signup",element:n.a.createElement(x,null)}),n.a.createElement(o.a,{path:"/",element:n.a.createElement(f,null)}),n.a.createElement(o.a,{path:"/admin-login",element:n.a.createElement(N,null)}),n.a.createElement(o.a,{path:"/admin",element:n.a.createElement(v,null)}),n.a.createElement(o.a,{path:"/home",element:n.a.createElement(R,null)})," ")));var I=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:c,getTTFB:r}=a;t(e),l(e),n(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k,null))),I()}},[[20,1,2]]]);
//# sourceMappingURL=main.4e200e32.chunk.js.map